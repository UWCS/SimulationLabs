---
---

<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title> Noise </title>

        <!-- CDNs -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.2/p5.min.js" integrity="sha512-1YMgn4j8cIL91s14ByDGmHtBU6+F8bWOMcF47S0cRO3QNm8SKPNexy4s3OCim9fABUtO++nJMtcpWbINWjMSzQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="/SimulationLabs/Stylesheets/Default.css" rel="stylesheet">

        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                processEscapes: true
                }
            });
        </script>

        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

        <!-- Simulations -->
        <script src="/SimulationLabs/Scripts/Noise/RandomHeightMap.js" defer></script>
        <script src="/SimulationLabs/Scripts/Noise/NoiseHeightMap.js" defer></script>
    </head>

    <body>
        {% include HeaderBar.html %}

        <!-- Page content -->
        <div class="section">
            <p> This is the noise page </p>
           
            <h2> What you'll create </h2>
            
            <p> The aim of this workshop is to recreate boids, which are a simulation of birds and other flocking entities (like fishes). 
                Hopefully, you'll be able to apply this in your own projects! 
                Along the way, we'll learn a little bit about p5.js, rendering, and simulating physics. </p>

            <div id="BoidContainer"></div>

            <em> (This is not an actual boids sketch btw - this is a random stepper) </em>


            <p> We will be coding in JavaScript but don't worry about knowing the ins and outs of the language; you should be able to pick it up as we go! </p>

            <h2> Introduction to p5.js </h2>
            
            We will be using JavaScript and a library called <strong> p5.js</strong>, made by the lovely <a href="https://processingfoundation.org/"> Processing Foundation</a>.
            
            <ol>
                <li> <p>To get started, create an account for the <a href="https://editor.p5js.org/signup">web editor</a>.  </p> </li>
                <li> <p> Open a new sketch (File->New) </p> </li>
            </ol>
            
            <h3> What is a sketch? </h3>
            
            <p>A sketch is a small program that will work with p5.js to produce a simulation. 
                Just like a game, your simulation will have frames (an image of your simulation) and p5.js will aim to show 60 frames a second.
                You'll be able to code what happens on certain events e.g. just before a frame is shown, just before the simulation starts, when the mouse is clicked.

                In this lab, since we're just drawing an image, we'll only concern ourselves with drawing before the simulation starts and when the mouse is clicked.
            </p>

            <br>

            <p> Your new sketch should have 2 functions: </p>
            
            <ul>
                <li> <strong> setup() </strong> which is a function executed once at the start </li>
                <li> <strong> draw() </strong> which is a function executed every frame </li>
            </ul>

            We're going to <strong>ignore</strong> the <strong>draw()</strong> function, since we'll just be using the setup function. In other words, in this lab, just delete the <strong>draw()</strong> function.

            We create the canvas (arguments being the width and length) in <strong> setup() </strong>; this is something you only do once pretty much regardless of the simulation.
            <pre>
                <code class="language-js">
function setup() {
    createCanvas(400, 400);
    let redV = 128; // if you're new to js, use "let" to declare variables
    let greenV = 12; 
    let blueV = 128;
    background(redV, greenV, blueV); // my favourite colour; purple!
}
                </code>
            </pre>
            <em> RGB values have R,G,B values ranging from 0-255 </em>
            
            <p><strong>Mini-Task:</strong> Try running the above simulation! Maybe change the variables to display your own favourite colour. </p>

            <h3> Creating Random Noise </h3>

            <div id="RandomHeightMap"></div>
            <em>Click to generate new random noise</em>
            
            <p>Let's dive straight into generating random noise! We'll need to know a couple things: </p>

            <ol>
                <li>Drawing a pixel to the screen, with a specific colour</li>
                <li>Generating random values</li>
                <li>Turning a random value into a colour</li>
            </ol>

            <p>Let's tackle (1) first!</p>

            <h4>Pixels</h4>

            <pre>
                <code class="language-js">
function setup() {
    createCanvas(400, 400);

    // the eyes
    point(25, 25);
    point(28, 25);

    // the smile
    point(25, 30);
    point(26, 30);
    point(27, 30);
    point(28, 30);

    point(24, 29);
    point(23, 28);

    point(29, 29);
    point(30, 28);
}
                </code>
            </pre>
            
        <p>We can use the <strong>point()</strong> function to draw a pixel at specified <strong>X,Y</strong> coordinates. What about the colour? </p>

          <pre>
            <code class="language-js">
function setup() {
    createCanvas(400, 400);

    // eye colour
    stroke(0, 0, 255);

    // the eyes
    ...

    // smile colour 
    stroke(255, 0, 0);

    // the smile
    ...
}
            </code>
        </pre>

        <p>We can use the <strong>stroke()</strong> function to determine the colour of the pixels drawn from that point on; we can supply it with 3 values to specify an RGB colour. 
            If we're only using grayscale colours, then we can provide just a single value (to represent the brightness or "value" of the colour) e.g. 255 for pure white, 0 for pure black. 
        </p>

        <br>

        <p>Using this knowledge, can you guess what the following code does?</p>
        
        <pre>
            <code class="language-js">
function setup() {
    createCanvas(400, 400);
    
    for(let y = 0; y &lt; 400; y++){
        for(let i = 0; i &lt;= 255; i++){
        stroke(i);
        point(i,y);
        }
    }
}
            </code>
        </pre>
        
        <p><strong>Mini-Task:</strong> Run the above simulation, and see if you guessed what it does correctly! </p>

        <h4>Random Values</h4>

        <p>A key thing to remember about p5.js is that ultimately, it is still JavaScript. Therefore, we can use JavaScript functions and libraries with p5.js. </p>
        <br>
        <p>To handle randomness, we'll use js' Math library; in particular, the function <strong>Math.random()</strong>! Let's use the JavaScript console to test it out. </p>

        <pre>
            <code class="language-js">
for(let i = 0; i &lt; 20; i++){
    console.log(Math.random()); // values between 0-1
}
            </code>
        </pre>

        <p> Okay cool, there's only a slight problem now; we get random values in the range 0-1, but the colour values are in the range 0-255. All we need to do is multiply up :) </p>
        
        <h4>Use the docs! </h4>

        <p>If you ever have questions about p5 functions, then please refer to the excellent <a href="https://p5js.org/reference/">documentation</a>! </p>

        <h3>Task: Random Noise</h3>

        <p>It's now your job to replicate the random noise sketch! Use the tools above and the template below to create some random noise. </p>

        <pre>
            <code class="language-js">

const width = 400; // these are "constant" variables, as they don't change
const height = 400; // made to be variables since they're used in 2 places (iterating and createCanvas)

function drawRandomNoise(){
    for(let x = 0; x &lt; width; x++){
        for(let y = 0; y &lt; height; y++){
            // FILL ME
        }
    }
}
function setup() {
    createCanvas(width, height);
    drawRandomNoise();
}
            </code>
        </pre>
        <em>Generally, taking this out into its own function for this is a good idea; especially since this function's sole purpose is drawing random noise </em>

        <h3>Perlin Noise</h3>

        <p>Okay so we've programmed <em>random noise</em> which is "incoherent" noise - you can have sharp constrasts between neighbouring pixels. 
            If we want nice smooth gradients, then we can use perlin noise! </p>

        <div id="NoiseHeightMap"></div>

        <p>We can definitely see that the noise is more ordered than random noise, however we want it to be less sharp; we want it to be smoother. </p>

        <h4>Smoothing it out</h4>

        <p>So how do we achieve a smoother noise? We can figure this out by looking at 1D noise, and think about sampling 10 points from perlin noise. </p>

        <image src="/SimulationLabs/Images/Noise/InfrequentSamplingNoise.PNG"></image>

        <p>From the above, we can see that the values sampled can be quite different. You can think of this as sampling the 10 points at $x=1, 2, 3, \dots$ </p>
        
        <p>What if we sampled points more frequently instead?</p>
        
        <image src="/SimulationLabs/Images/Noise/FrequentSamplingNoise.PNG"></image>

        <p>From the above, we can see that the values sampled are <em>a lot closer</em>; you can think of this as sampling the 10 points at $x=0.2, 0.4, 0.6 \dots$</p>
        
        
        </section>
    </body>
</html>